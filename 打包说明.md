# 51吃瓜浏览器 - 打包说明

## 📦 最新打包文件

**打包时间：** 2026-02-10 15:20  
**版本：** 1.0.0  
**位置：** `/Users/lee/project/tiktok_pachong/51chigua-category-viewer/dist/`

### 文件列表

| 文件名 | 大小 | 架构 | 说明 |
|--------|------|------|------|
| 51吃瓜浏览器-1.0.0-arm64.dmg | 98M | Apple Silicon | 推荐M1/M2/M3使用 |
| 51吃瓜浏览器-1.0.0-arm64-mac.zip | 95M | Apple Silicon | 便携版 |
| 51吃瓜浏览器-1.0.0.dmg | 104M | Intel x64 | 推荐Intel Mac使用 |
| 51吃瓜浏览器-1.0.0-mac.zip | 100M | Intel x64 | 便携版 |

---

## ✅ 系统要求

### 必需条件

1. **操作系统：** macOS 10.12+ (推荐 Big Sur 11.0+)
2. **Google Chrome 浏览器**（必需）
   - 应用会自动使用系统已安装的 Chrome
   - 或其他 Chromium 系浏览器（Chrome Canary, Chromium, Edge）

### Chrome 安装验证

打开终端运行：
```bash
ls "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"
```

如果显示文件路径，说明 Chrome 已正确安装。

---

## 🚀 安装步骤

### 步骤1：安装 Chrome（如果没有）

**方法1：官网下载**
```
访问：https://www.google.com/chrome/
下载并安装
```

**方法2：Homebrew 安装**
```bash
brew install --cask google-chrome
```

### 步骤2：安装应用

1. **选择对应的安装包**
   - Apple Silicon (M1/M2/M3) → `51吃瓜浏览器-1.0.0-arm64.dmg`
   - Intel Mac → `51吃瓜浏览器-1.0.0.dmg`

2. **安装应用**
   ```
   双击 .dmg 文件
   → 将应用拖入 Applications 文件夹
   ```

3. **首次运行**
   ```
   右键点击应用 → 打开
   （macOS 安全限制，首次需要右键打开）
   ```

---

## 🔧 使用说明

### 配置文件位置

应用配置保存在用户目录（非应用内部）：
```
~/Library/Application Support/51chigua-category-viewer/config/
```

包含文件：
- `uaa.json` - UAA站点配置
- `51chigua.json` - 51吃瓜站点配置
- `*.json.backup` - 配置备份文件

### UAA Cookie 配置

#### 获取 Cookie

1. **浏览器访问** https://www.uaa.com
2. **登录账号**
3. **打开开发者工具** (F12 或 Cmd+Option+I)
4. **切换到 Application 标签**
5. **展开 Cookies** → 点击 https://www.uaa.com
6. **复制关键字段：**
   - `token`（必需）
   - `SESSION`（必需）
   - 其他字段可选

#### 在应用中配置

1. 启动应用 → 切换到 UAA 站点
2. 左侧配置面板
3. 填入各个 Cookie 字段
4. 点击"保存配置"
5. 应用会自动刷新列表

---

## ⚠️ 常见问题

### Q1: 启动报错"无法启动浏览器"

**错误信息：**
```
Could not find Chrome (ver. xxx)
```

**解决方案：**
1. 确认已安装 Chrome：
   ```bash
   open -a "Google Chrome"
   ```
2. 如果没有，按照上面的方法安装 Chrome
3. 重启应用

---

### Q2: 获取 UAA 列表失败 (HTTP 403)

**原因：** Cookie 失效或过期

**解决方案：**
1. 在浏览器重新登录 UAA
2. 获取最新的 Cookie（token 和 SESSION）
3. 在应用中更新配置
4. 保存并刷新

---

### Q3: 配置保存后不生效

**解决方案：**
1. 确认看到"配置保存成功"提示
2. 检查配置文件：
   ```bash
   cat ~/Library/Application\ Support/51chigua-category-viewer/config/uaa.json
   ```
3. 如果配置正确，重启应用

---

### Q4: 在不同电脑间同步配置

**方法1：手动复制**
```bash
# 在原电脑导出
cp -r ~/Library/Application\ Support/51chigua-category-viewer ~/Desktop/config_backup

# 在新电脑导入
cp -r ~/Desktop/config_backup/* ~/Library/Application\ Support/51chigua-category-viewer/
```

**方法2：使用同步盘**
- 将配置目录软链接到 iCloud/Dropbox 等同步目录

---

## 🔍 技术细节

### Chrome 自动检测

应用会按顺序查找以下路径：
1. `/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`
2. `/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary`
3. `/Applications/Chromium.app/Contents/MacOS/Chromium`
4. `/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge`
5. `~/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`

### 日志查看

如需调试，可查看控制台日志：
```bash
# 方法1：从终端启动（查看实时日志）
/Applications/51吃瓜浏览器.app/Contents/MacOS/51吃瓜浏览器

# 方法2：查看系统日志
log show --predicate 'process == "51吃瓜浏览器"' --last 5m
```

---

## 📋 功能清单

### 51吃瓜站点
- ✅ 分类浏览
- ✅ 内容查看
- ✅ 批量同步
- ✅ 自动去重

### UAA站点
- ✅ 音频列表浏览
- ✅ 题材筛选
- ✅ 批量同步
- ✅ Cookie 独立配置
- ✅ 自动同步状态检查
- ✅ 配置自动刷新

---

## 🎯 给同事的快速指南

### 安装（3步）
```
1. 确认已安装 Chrome
2. 双击 .dmg 安装应用
3. 右键打开应用
```

### 配置 UAA（3步）
```
1. 浏览器登录 UAA
2. 复制 token 和 SESSION
3. 在应用中更新并保存
```

### 使用
```
1. 切换站点
2. 选择分类
3. 浏览/同步内容
```

---

## 📞 问题反馈

遇到问题时，请提供：
1. macOS 版本
2. Chrome 版本
3. 错误截图或日志
4. 操作步骤

---

**最后更新：** 2026-02-10  
**打包版本：** 1.0.0
